
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Chapter 8 Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.6.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            <link rel="stylesheet" href="../gitbook/theme.css">
            <link rel="stylesheet" href="../gitbook/theme-fix.css">
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../chapter9/" />
    
    
    <link rel="prev" href="../chapter7/" />
    

    </head>
    <body class="wy-body-for-nav">
        
<div class="book wy-grid-for-nav">
    
    <nav role="navigation" data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                <!-- here comes title -->
                <div role="search">
                    
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

                </div>
            </div>
              
                


<div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
    

    

    
        
        
    
        
        <li class="toctree-l1 " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    <span class="toctree-expand"></span>
                    Introduction
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.2" data-path="../conventions/">
            
                <a href="../conventions/">
            
                    <span class="toctree-expand"></span>
                    Conventions
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.3" data-path="../chapter1/">
            
                <a href="../chapter1/">
            
                    <span class="toctree-expand"></span>
                    Chapter 1
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.4" data-path="../chapter2/">
            
                <a href="../chapter2/">
            
                    <span class="toctree-expand"></span>
                    Chapter 2
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.5" data-path="../chapter3/">
            
                <a href="../chapter3/">
            
                    <span class="toctree-expand"></span>
                    Chapter 3
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.6" data-path="../chapter4/">
            
                <a href="../chapter4/">
            
                    <span class="toctree-expand"></span>
                    Chapter 4
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.7" data-path="../chapter5/">
            
                <a href="../chapter5/">
            
                    <span class="toctree-expand"></span>
                    Chapter 5
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.8" data-path="../chapter6/">
            
                <a href="../chapter6/">
            
                    <span class="toctree-expand"></span>
                    Chapter 6
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.9" data-path="../chapter7/">
            
                <a href="../chapter7/">
            
                    <span class="toctree-expand"></span>
                    Chapter 7
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 current" data-level="1.10" data-path="./">
            
                <a href="./">
            
                    <span class="toctree-expand"></span>
                    Chapter 8
            
                </a>
            

            
                
                
                <ul>
                    
                    
                    
                    <li class="toctree-l2"><a class="reference internal" href="#more-than-class-components">More than Class Components</a></li>
                    
                    
                    
                    <li class="toctree-l2"><a class="reference internal" href="#react-hooks">React Hooks</a></li>
                    
                    
                    
                    <li class="toctree-l2"><a class="reference internal" href="#function-values-as-components">Function Values As Components</a></li>
                    
                    
                    
                    <li class="toctree-l2"><a class="reference internal" href="#combining-class-and-functional-components">Combining Class and Functional Components</a></li>
                    
                </ul>
                
            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.11" data-path="../chapter9/">
            
                <a href="../chapter9/">
            
                    <span class="toctree-expand"></span>
                    Chapter 9
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.12" data-path="../chapter10/">
            
                <a href="../chapter10/">
            
                    <span class="toctree-expand"></span>
                    Chapter 10
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.13" data-path="../chapter11/">
            
                <a href="../chapter11/">
            
                    <span class="toctree-expand"></span>
                    Chapter 11
            
                </a>
            

            
        </li>
    
        
        <li class="toctree-l1 " data-level="1.14" data-path="../chapter12/">
            
                <a href="../chapter12/">
            
                    <span class="toctree-expand"></span>
                    Chapter 12
            
                </a>
            

            
        </li>
    

    
</div>

            
            
        </div>
    </nav>
    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
        <nav class="wy-nav-top" aria-label="top navigation">
            <i data-toggle="wy-nav-top" class="fa fa-bars shift-menu"></i>
            <a href="#">Chapter 8</a>
            
                <!-- <i data-toggle="wy-nav-top" class="fa fa-bars"></i> -->
            
        </nav>
        <div class="wy-nav-content">
            
                <div class="rst-content">
                    

<div role="navigation" aria-label="breadcrumbs navigation">
    <ul class="wy-breadcrumbs">
        <li><a href="javascript:void(0)">Chapter 8</a></li>
        <!--
        <li class="wy-breadcrumbs-aside">
            <a href="javascript:void(0)" class="language-picker"><i class="fa fa-globe"></i> <i class="fa fa-caret-down"></i></a>
            <ul class="language-dropdown">
                
            </ul>
        </li>
        <li class="wy-breadcrumbs-aside">        
            <a href="https://github.com/coleifer/peewee/blob/master/docs/peewee/models.rst" class="fa fa-github"> Edit on GitHub</a>
        </li>
        -->
    </ul>
    <hr>
</div>




                    
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        
<div id="book-search-results">
    <div class="search-noresults">
    
                            <div itemprop="articleBody">
                                <div class="section"> <!-- rtd needs a section to handle css properly -->
                                
                                <h1 id="function-components">Function Components</h1>
<ul>
<li><a href="#function-components">Function Components</a><ul>
<li><a href="#more-than-class-components">More than Class Components</a></li>
<li><a href="#components-get-props">Components Get <strong>props</strong></a></li>
<li><a href="#react-hooks">React Hooks</a></li>
<li><a href="#useeffect"><code>useEffect()</code></a></li>
<li><a href="#function-values-as-components">Function Values As Components</a></li>
<li><a href="#combining-class-and-functional-components">Combining Class and Functional Components</a></li>
</ul>
</li>
</ul>
<h2 id="more-than-class-components">More than Class Components</h2>
<p>Throughout this book, the phrase &quot;class component&quot; has been used. This was purposeful. In React, there are more than class components. There are also <em>function</em> components.</p>
<p><em>Everything is a component.</em></p>
<p>One of the core rules of React is that everything is a component. This goes for classes as well as functions. Anything can be a component as long as it follows another rule: it must return JSX.</p>
<p>Like class components, it returns (via <strong>render()</strong>) some JSX, so as long as the function also returns JSX, it is considered a component by React.</p>
<h2 id="components-get-props">Components Get <strong>props</strong></h2>
<p>For class components, the attributes of its element form become <strong>props</strong>. Internally, this becomes <em>this.props</em>. For functions, this does not get translated. This is simply <strong>props</strong>.</p>
<p><strong>src/components/Example/index.js:</strong></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Example</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hi,{this.props.name}!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Example;
</code></pre>
<p><strong>src/App.js:</strong></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> Example <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./components/Example&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Example</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Dan&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    )
  }
}

export default App;
</span></code></pre>
<h2 id="react-hooks">React Hooks</h2>
<p>Function components do not have access to <strong>state</strong>. They can have their own variable of <em>this.state</em>, of course, but the function <strong>setState()</strong> does not exist. It is not inherited from <strong>React.Component</strong>, after all. Thus, changing the state of a function would not cause a re-rendering of its elements.</p>
<p>To help with this, React introduced new functionality: hooks. To provide state-like functionality, hooks can be used to introduce state-like behavior using a new function, <strong>useState()</strong>.</p>
<p>The function <strong>useState()</strong> accepts the initial value of a value and returns an array. The first position is the variable and the second is a function for changing that value. These are used through the destructing assignment operation to name them.</p>
<p>Consider the following line:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">0</span>);
</code></pre>
<p>To help with naming them, it is generally recommended to name the first the variable and the second in a pattern of &quot;set&quot; with the name of the variable after that. Such a pattern helps with it matching the existing usage of <strong>setState()</strong> within class components.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Example</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> { setCounter(counter + 1) } }&gt;Click me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Example;
</code></pre>
<p>In the above code, the event listener calls the <strong>setCounter()</strong> function and increases the current value, <em>counter</em>, whenever it is called.</p>
<p>Internally, every use of <strong>useState()</strong> will also re-render whatever <strong>Example</strong> returns. This will act like <strong>setState()</strong> would in a class component.</p>
<h2 id="useeffect"><code>useEffect()</code></h2>
<p>For a class component, there are three phases of their lifecycle: mounting, updating, and unmounting. For function components, this is reduced. There is &quot;rendering&quot; and &quot;after rendering.&quot; Whatever is returned from a function component is mounted. To help with the &quot;after rendering&quot; actions, React defines a new term, <em>effects</em>.</p>
<p>In React, an <em>effect</em> is something that <em>affects</em> the document in some way. In a class component, such code would appear as part of <strong>componentDidMount()</strong> or <strong>componentDidUpdate()</strong>. It would be some functionality that updated the document as a result of the state being updated.</p>
<p>Because function components do not have an explicit state, a new function, <strong>useEffect()</strong>, can be used inside of the function. It accepts a callback function that will be called after every update inside of the function component.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Example</span>(<span class="hljs-params"></span>) </span>{

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">0</span>);

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">document</span>.title = <span class="hljs-string">`You clicked <span class="hljs-subst">${counter}</span> times`</span>;
  });

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> { setCounter(counter + 1) } }&gt;Click me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Example;
</code></pre>
<p>In the above code, the function <strong>useEffect()</strong> will be called after the initial render and then any time the function returned by <strong>useState()</strong> is called. It is guaranteed to be called after an update and after any components are updated.</p>
<p>The second argument to <strong>useEffects()</strong> is an array of values. Function components do not have state. However, when used with the <strong>useState()</strong> function, values can be tested. If they have changed since the last render, React knows to render. (Since these are not automatically tracked in a function component, these must be optionally supplied to <strong>useEffect()</strong>.)</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Example</span>(<span class="hljs-params"></span>) </span>{

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">0</span>);

  useEffect(
    <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      <span class="hljs-built_in">document</span>.title = <span class="hljs-string">`You clicked <span class="hljs-subst">${counter}</span> times`</span>;
    },
    [counter]
  );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> { setCounter(counter + 1) } }&gt;Click me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Example;
</code></pre>
<h2 id="function-values-as-components">Function Values As Components</h2>
<p>In JavaScript, functions are a type of value. This means that variables can hold functions as values and be called as such. Since React supports function components, this also means that variables can, themselves, be a component when they are the values of functions.</p>
<p>Consider the following code:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-keyword">const</span> Example = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
          &lt;p&gt;Hi!&lt;/p&gt;
        &lt;div&gt;
    )
};

export default Example;
</code></pre>
<p>In the above code, the value of the variable <em>Example</em> is an arrow function that is, itself, a function component. As long as it is exported correctly, however, React cannot tell the difference. It is still a function and thus a valid component value to have.</p>
<h2 id="combining-class-and-functional-components">Combining Class and Functional Components</h2>
<p>In React, there are no differences between components that are classes and those that are functions. Their usages dictate what and how they can be used.</p>
<p>In situations where a more lightweight solution might be needed, a function component could be used. If limited state is needed, this might also be a good place to use a function component.</p>
<p>However, in those cases where more complicated code is needed or advanced usages of state and event listeners, a class component would generally be a better solution.</p>
<p>With <strong>useState()</strong> and <strong>useEffect()</strong>, function components can use much of the same general functionality of class components. While not designed for the same purpose, they can be used in places to reduce the general size of the code.</p>

                                
                                </div>
                            </div>
                        
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                    </div>
                    <footer>
                            <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                                
                                    
                                        <a href="../chapter7/" class="btn btn-neutral" title="" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
                                    
                                    
                                        <a href="../chapter9/" class="btn btn-neutral float-right" title="" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
                                    
                                
                            </div>
                    </footer>
                    
                </div>
            
        </div>
    </section>

    

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Chapter 8","level":"1.10","depth":1,"next":{"title":"Chapter 9","level":"1.11","depth":1,"path":"chapter9/index.md","ref":"chapter9/index.md","articles":[]},"previous":{"title":"Chapter 7","level":"1.9","depth":1,"path":"chapter7/index.md","ref":"chapter7/index.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-veeam"],"root":"./chapters","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-veeam":{"langs":["en"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"chapter8/index.md","mtime":"2020-05-02T13:22:00.186Z","type":"markdown"},"gitbook":{"version":"3.6.0","time":"2020-08-09T21:24:40.069Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme-default.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

